# {{ ansible_managed }}
# Karakeep environment variables - generated from Ansible Vault

# Server
NEXTAUTH_URL={{ karakeep_base_url }}
DATA_DIR={{ karakeep_data_dir }}
MAX_ASSET_SIZE_MB={{ karakeep_max_asset_size_mb }}
DB_WAL_MODE={{ karakeep_db_wal_mode }}
DISABLE_NEW_RELEASE_CHECK={{ karakeep_disable_new_release_check }}
DISABLE_SIGNUPS={{ karakeep_disable_signups }}
DISABLE_PASSWORD_AUTH={{ karakeep_disable_password_auth }}
EMAIL_VERIFICATION_REQUIRED={{ karakeep_email_verification_required }}

# Workers
RATE_LIMITING_ENABLED={{ karakeep_rate_limiting_enabled }}
SEARCH_NUM_WORKERS={{ karakeep_search_num_workers }}
WEBHOOK_NUM_WORKERS={{ karakeep_webhook_num_workers }}
ASSET_PREPROCESSING_NUM_WORKERS={{ karakeep_asset_preprocessing_num_workers }}
RULE_ENGINE_NUM_WORKERS={{ karakeep_rule_engine_num_workers }}
CRAWLER_NUM_WORKERS={{ karakeep_crawler_num_workers }}
INFERENCE_NUM_WORKERS={{ karakeep_inference_num_workers }}

# Meilisearch
MEILI_ADDR={{ karakeep_meili_addr }}
MEILI_MASTER_KEY={{ karakeep_meili_master_key }}

# OAuth
OAUTH_WELLKNOWN_URL={{ karakeep_oauth_wellknown_url }}
OAUTH_CLIENT_ID={{ karakeep_oauth_client_id }}
OAUTH_CLIENT_SECRET={{ karakeep_oauth_client_secret }}
OAUTH_SCOPE={{ karakeep_oauth_scope }}
OAUTH_PROVIDER_NAME={{ karakeep_oauth_provider_name }}
OAUTH_ALLOW_DANGEROUS_EMAIL_ACCOUNT_LINKING={{ karakeep_oauth_allow_dangerous_email_account_linking }}
OAUTH_TIMEOUT={{ karakeep_oauth_timeout }}

# Secrets
{% if karakeep_nextauth_secret is defined %}
NEXTAUTH_SECRET={{ karakeep_nextauth_secret }}
{% endif %}

# Inference (AI)
INFERENCE_TEXT_MODEL={{ karakeep_inference_text_model }}
INFERENCE_IMAGE_MODEL={{ karakeep_inference_image_model }}
EMBEDDING_TEXT_MODEL={{ karakeep_embedding_text_model }}
INFERENCE_CONTEXT_LENGTH={{ karakeep_inference_context_length }}
INFERENCE_MAX_OUTPUT_TOKENS={{ karakeep_inference_max_output_tokens }}
INFERENCE_LANG={{ karakeep_inference_lang }}
INFERENCE_JOB_TIMEOUT_SEC={{ karakeep_inference_job_timeout_sec }}
INFERENCE_ENABLE_AUTO_TAGGING={{ karakeep_inference_enable_auto_tagging }}
INFERENCE_ENABLE_AUTO_SUMMARIZATION={{ karakeep_inference_enable_auto_summarization }}
INFERENCE_OUTPUT_SCHEMA={{ karakeep_inference_output_schema }}
{% if karakeep_openai_api_key is defined %}
OPENAI_API_KEY={{ karakeep_openai_api_key }}
{% endif %}

# Browser
BROWSER_WEB_URL={{ karakeep_browser_web_url }}
BROWSER_CONNECT_ONDEMAND={{ karakeep_browser_connect_ondemand }}

# Crawler
CRAWLER_DOWNLOAD_BANNER_IMAGE={{ karakeep_crawler_download_banner_image }}
CRAWLER_STORE_SCREENSHOT={{ karakeep_crawler_store_screenshot }}
CRAWLER_FULL_PAGE_SCREENSHOT={{ karakeep_crawler_full_page_screenshot }}
CRAWLER_FULL_PAGE_ARCHIVE={{ karakeep_crawler_full_page_archive }}
CRAWLER_ENABLE_ADBLOCKER={{ karakeep_crawler_enable_adblocker }}
CRAWLER_JOB_TIMEOUT_SEC={{ karakeep_crawler_job_timeout_sec }}
CRAWLER_NAVIGATE_TIMEOUT_SEC={{ karakeep_crawler_navigate_timeout_sec }}
CRAWLER_SCREENSHOT_TIMEOUT_SEC={{ karakeep_crawler_screenshot_timeout_sec }}
CRAWLER_VIDEO_DOWNLOAD={{ karakeep_crawler_video_download }}
CRAWLER_VIDEO_DOWNLOAD_MAX_SIZE={{ karakeep_crawler_video_download_max_size }}
CRAWLER_VIDEO_DOWNLOAD_TIMEOUT_SEC={{ karakeep_crawler_video_download_timeout_sec }}

# OCR
OCR_LANGS={{ karakeep_ocr_langs }}
OCR_CONFIDENCE_THRESHOLD={{ karakeep_ocr_confidence_threshold }}

# Webhook
WEBHOOK_TIMEOUT_SEC={{ karakeep_webhook_timeout_sec }}
WEBHOOK_RETRY_TIMES={{ karakeep_webhook_retry_times }}
