# {{ ansible_managed }}
# Komodo environment variables - generated from Ansible Vault

# Core settings
KOMODO_HOST={{ komodo_host }}
KOMODO_TITLE={{ komodo_title }}
KOMODO_FIRST_SERVER={{ komodo_first_server }}
KOMODO_FIRST_SERVER_NAME={{ komodo_first_server_name }}
KOMODO_DISABLE_CONFIRM_DIALOG={{ komodo_disable_confirm_dialog }}
KOMODO_MONITORING_INTERVAL={{ komodo_monitoring_interval }}
KOMODO_RESOURCE_POLL_INTERVAL={{ komodo_resource_poll_interval }}
KOMODO_JWT_TTL={{ komodo_jwt_ttl }}

# Authentication
KOMODO_LOCAL_AUTH={{ komodo_local_auth }}
KOMODO_DISABLE_USER_REGISTRATION={{ komodo_disable_user_registration }}
KOMODO_ENABLE_NEW_USERS={{ komodo_enable_new_users }}
KOMODO_DISABLE_NON_ADMIN_CREATE={{ komodo_disable_non_admin_create }}
KOMODO_TRANSPARENT_MODE={{ komodo_transparent_mode }}
{% if komodo_init_admin_username is defined %}
KOMODO_INIT_ADMIN_USERNAME={{ komodo_init_admin_username }}
KOMODO_INIT_ADMIN_PASSWORD={{ komodo_init_admin_password }}
{% endif %}

# OIDC settings
KOMODO_OIDC_ENABLED={{ komodo_oidc_enabled }}
KOMODO_OIDC_PROVIDER={{ komodo_oidc_provider }}
KOMODO_OIDC_REDIRECT_HOST={{ komodo_oidc_redirect_host }}
{% if komodo_oidc_client_id is defined %}
KOMODO_OIDC_CLIENT_ID={{ komodo_oidc_client_id }}
KOMODO_OIDC_CLIENT_SECRET={{ komodo_oidc_client_secret }}
{% endif %}

# OAuth (disabled)
KOMODO_GITHUB_OAUTH_ENABLED={{ komodo_github_oauth_enabled }}
KOMODO_GOOGLE_OAUTH_ENABLED={{ komodo_google_oauth_enabled }}

# Logging
KOMODO_LOGGING_PRETTY={{ komodo_logging_pretty }}
KOMODO_PRETTY_STARTUP_CONFIG={{ komodo_pretty_startup_config }}

# Periphery settings
PERIPHERY_DISABLE_TERMINALS={{ periphery_disable_terminals }}
PERIPHERY_SSL_ENABLED={{ periphery_ssl_enabled }}
PERIPHERY_INCLUDE_DISK_MOUNTS={{ periphery_include_disk_mounts }}
PERIPHERY_LOGGING_PRETTY={{ periphery_logging_pretty }}
PERIPHERY_PRETTY_STARTUP_CONFIG={{ periphery_pretty_startup_config }}

# Secrets from vault
{% if komodo_passkey is defined %}
KOMODO_PASSKEY={{ komodo_passkey }}
{% endif %}
{% if komodo_webhook_secret is defined %}
KOMODO_WEBHOOK_SECRET={{ komodo_webhook_secret }}
{% endif %}
{% if komodo_jwt_secret is defined %}
KOMODO_JWT_SECRET={{ komodo_jwt_secret }}
{% endif %}
